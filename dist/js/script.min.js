$(function(){$("#interactBG");$("#fullpage").fullpage({verticalCentered:!0,css3:!0,scrollingSpeed:700,loopBottom:!1,loopTop:!1,afterRender:function(){$("#bgvid").get(0).play(),$("#promoSlider").slick({centerMode:!0,centerPadding:"60px",infinite:!1,slidesToShow:3,slidesToScroll:1}),$("#interactBG").interactive_bg({strength:100,scale:1.05,animationSpeed:"400ms"})},afterResize:function(){var a=($(this),$(window));$("#interactBG").find(".ibg-bg").css({width:a.outerWidth(),height:a.outerHeight()})}})}),function(a){var b={strength:25,scale:1.05,animationSpeed:"100ms",contain:!0,wrapContent:!1};a.fn.interactive_bg=function(c){return this.each(function(){function d(a){var b=Math.round(10*event.accelerationIncludingGravity.x)/10,c=Math.round(10*event.accelerationIncludingGravity.y)/10,d=-(b/10)*e.strength,g=-(c/10)*e.strength,h=-(2*d),i=-(2*g);f.find("> .ibg-bg").css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+","+h+","+i+")","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+","+h+","+i+")","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+","+h+","+i+")",transform:"matrix("+e.scale+",0,0,"+e.scale+","+h+","+i+")"})}var e=a.extend({},b,c),f=a(this),g=f.outerHeight(),h=f.outerWidth(),i=e.strength/g,j=e.strength/h,k="ontouchstart"in document.documentElement;e.contain===!0&&f.css({overflow:"hidden"}),e.wrapContent===!1?f.prepend("<div class='ibg-bg'></div>"):f.wrapInner("<div class='ibg-bg'></div>"),void 0!==f.data("ibg-bg")&&f.find("> .ibg-bg").css({background:"url('"+f.data("ibg-bg")+"') no-repeat center center","background-size":"cover"}),f.find("> .ibg-bg").css({width:h,height:g}),k||screen.width<=699?window.addEventListener("devicemotion",d,!1):f.mouseenter(function(a){1!=e.scale&&f.addClass("ibg-entering"),f.find("> .ibg-bg").css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)",transform:"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.removeClass("ibg-entering")})}).mousemove(function(a){if(!f.hasClass("ibg-entering")&&!f.hasClass("exiting")){var b=a.pageX||a.clientX,c=a.pageY||a.clientY;b=b-f.offset().left-h/2,c=c-f.offset().top-g/2;var d=j*b*-1,k=i*c*-1;f.find("> .ibg-bg").css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+","+d+","+k+")","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+","+d+","+k+")","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+","+d+","+k+")",transform:"matrix("+e.scale+",0,0,"+e.scale+","+d+","+k+")"})}}).mouseleave(function(a){1!=e.scale&&f.addClass("ibg-exiting"),f.addClass("ibg-exiting").find("> .ibg-bg").css({"-webkit-transform":"matrix(1,0,0,1,0,0)","-moz-transform":"matrix(1,0,0,1,0,0)","-o-transform":"matrix(1,0,0,1,0,0)",transform:"matrix(1,0,0,1,0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.removeClass("ibg-exiting")})})})}}(jQuery);