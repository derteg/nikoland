$.noConflict(),jQuery(function(a){!function(a){function b(b){var c=a(".b-promo__slide",d);if(b>=j){d.hasClass("slick-initialized")||d.slick(k);var g=c.width();f.width(g).height(g),e.width(g).height(g)}else a(this).trigger("resize"),d.hasClass("slick-initialized")&&d.slick("unslick"),f.css({height:198,width:"100%"}),e.css({height:198,width:"100%"}),c.length%2===1&&c.last().addClass("full-width")}function c(){a(this).find(".slick-slide").map(function(b,c){a(c).hasClass("slick-active")?(a(c).css({"-webkit-transition-delay":h+"s","transition-delay":h+"s","-webkit-transition-duration":i+"s","transition-duration":i+"s"}),h+=parseFloat(.25),i+=parseFloat(.5)):a(c).css({"-webkit-transition-delay":"0s","transition-delay":"0s","-webkit-transition-duration":"0s","transition-duration":"0s"})})}var d=a("#promoSlider"),e=a(".b-pic-bg__cont",d),f=a(".js-promo__slide-lnk",d),g=(a("#fullpage"),a(window).width()),h=.25,i=.5,j=1e3,k={infinite:!1,slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,touchThreshold:100,edgeFriction:.5,arrows:!1,lazyLoad:"progressive",speed:700,cssEase:"cubic-bezier(0.55, 0.085, 0.68, 0.53)"};a(window).ready(b(g)).resize(function(){var c=a(window).width();b(c)}),d.on("afterChange",c),d.on("setPosition",c)}(jQuery),function(a){function b(b){a(this);d.x=b.pageX/10,d.y=b.pageY/10,a(".interact-bg").css({"-webkit-transform":"translate3d("+-d.x+"px,0, 0) scale(1)","-moz-transform":"translate3d("+-d.x+"px,0, 0) scale(1)","-o-transform":"translate3d("+-d.x+"px,0, 0) scale(1)",transform:"translate3d("+-d.x+"px,0, 0) scale(1)"})}var c=a("#promoSlider"),d={x:-1,y:-1},e=a("#interactBG");a("#fullpage").fullpage({verticalCentered:!0,css3:!0,easingcss3:"ease-in",scrollingSpeed:700,fitToSectionDelay:0,normalScrollElements:".b-contacts__popup, .b-about",fixedElements:".b-video__cont",responsiveWidth:"1000",touchSensitivity:10,afterRender:function(){a("#bgvid").get(0).play(),e.prepend('<div class="interact-bg">')},onLeave:function(d,f,g){var h=a(".interact-bg",e),i=a("#promoContact",e),j=a(".screen_02"),k=j.find(".slick-slide"),l=a("#header").find(".js-header__awards"),m=.25,n=.5;1==d&&(c.addClass("vertical-animate"),l.css({right:"-145px",top:"-147px",opacity:"0","-webkit-transform":"scale(0)",transform:"scale(0)"}),a("#bgvid").get(0).pause(),a("#bgvid").next().css({opacity:.8})),1==f&&(c.removeClass("vertical-animate"),l.css({right:"-20px",top:"-20px",opacity:"1","-webkit-transform":"scale(1)",transform:"scale(1)"}),a("#bgvid").get(0).play(),a("#bgvid").next().css({opacity:.4})),2==d&&k.map(function(b,c){a(c).css({"-webkit-transition-delay":".7s","transition-delay":".7s","-webkit-transition-duration":"0s","transition-duration":"0s"})}),2==f&&k.map(function(b,c){a(c).hasClass("slick-active")?(a(c).css({"-webkit-transition-delay":m+"s","transition-delay":m+"s","-webkit-transition-duration":n+"s","transition-duration":n+"s"}),m+=parseFloat(.25),n+=parseFloat(.5)):a(c).css({"-webkit-transition-delay":"0s","transition-delay":"0s","-webkit-transition-duration":"0s","transition-duration":"0s"})}),3==f?(h.css({"-webkit-transform":"translate3d(-70px, 0, 0) scale(1)","-moz-transform":"translate3d(-70px, 0, 0) scale(1)","-o-transform":"translate3d(-70px, 0, 0) scale(1)",transform:"translate3d(-70px, 0, 0) scale(1)"}),i.fadeIn(1200),a(document).mousemove(b)):(h.css({"-webkit-transform":"translate3d(-70px, 0, 0) scale(1.3)","-moz-transform":"translate3d(-70px, 0, 0) scale(1.3)","-o-transform":"translate3d(-70px, 0, 0) scale(1.3)",transform:"translate3d(-70px, 0, 0) scale(1.3)"}),i.fadeOut(1200))}})}(jQuery),function(a){function b(){var b=a("#logo"),c=a(".js-logo__popup",b);b.on("click",".js-logo__pic",function(a){a.preventDefault(),b.addClass("active")}),c.on("click",".js-closer",function(a){a.target.hasAttribute("data-popup-closer")&&b.removeClass("active")})}b()}(jQuery),function(a){!function(){function b(){d.animate({right:-536},f).queue(function(){a(this).hide(),a(this).dequeue()})}var c=a(".js-form-popup__btn"),d=a(".b-contacts__popup"),e=a(".b-contacts__popup-close",d),f=600;c.click(function(a){a.preventDefault(),d.show().animate({right:0},f)}),e.click(b)}(jQuery)}(jQuery),function(a){!function(){function b(){c=a(this).innerHeight(),a(".b-about").css("height",c)}var c,d,e=a(".js-about__page"),f=a(".js-header__awards");e.click(function(b){var d=e.data("href");c=a(window).innerHeight(),a.ajax({method:"GET",url:d,cache:!1,success:function(b){a("#fullpage").before(b).css("display","none"),a(".b-about").css("height",c),f.css({right:"-145px",top:"-147px",opacity:"0","-webkit-transform":"scale(0)",transform:"scale(0)"}),a(".js-logo__close").css({display:"inline-block"})}})}),a(".js-logo__close").click(function(){a("#fullpage").css("display","block"),f.css({right:"-20px",top:"-20px",opacity:"1","-webkit-transform":"scale(1)",transform:"scale(1)"}),a(".b-about").remove(),a(".js-logo__close").css({display:"none"})}),a(window).resize(function(){clearTimeout(d),d=setTimeout(b,100)})}()}(jQuery),function(a){var b=a("#callbackFrom"),c=(a(".js-form-call__btn",b),b.find('input:not([type="file"]), textarea'));!function(){a.validator.addMethod("usPhoneFormat",function(a,b){return this.optional(b)||/^\(\d{3}\) \d{3}\-\d{4}( x\d{1,6})?$/.test(a)},"Невалидный телефон"),a.validator.addMethod("laxEmail",function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@(?:\S{1,63})$/.test(a)},"некорректный email"),b.validate({highlight:function(b,c){a(b).addClass("invalid-elem").removeClass("valid-elem")},unhighlight:function(b,c){a(b).removeClass("invalid-elem").addClass("valid-elem")},errorElement:"div",errorClass:"l-error-message",rules:{userName:{required:!0,minlength:2},userEmail:{email:!0,required:!0},userPhone:{usPhoneFormat:!0,required:!0}},messages:{userName:{required:"Введите ваше имя",minlength:jQuery.validator.format("Минимальная длина {0}")},userEmail:{email:"ваш email адрес должен быть в формате example@example.com",required:"Нам нужен ваш контактный email"},userPhone:{required:"Нам нужен ваш контактный телефон"}},submitHandler:function(c){var d=b.serializeArray();a.post("order",d,function(a){alert(JSON.stringify(d)),b.find(".b-form-call__cont").hide().prev(".b-form-call__title").text(d[1].value+" ваша заявка успешно принята")})}}),c.change(function(c){b.validate().element(a(c.target))}),a("#contact-telephone").val("").mask("?(999) 999-9999")}(),a("#fileupload").fileupload({url:"server/php/",dataType:"json",autoUpload:!1,maxFileSize:1e5,acceptFileTypes:/(\.|\/)(doc?x|pdf|zip|jpg|jpeg)$/i}).on("fileuploadadd",function(b,c){var d=[],e=/(\.|\/)(doc?x|pdf|zip|jpg|jpeg)$/i;a.each(c.files,function(b,f){var g=a("<p/>").text(f.name);c.context=a("<div/>").appendTo("#fileupload__files"),c.originalFiles[0].type.length&&!e.test(c.originalFiles[0].type)&&(console.log(111),g.appendTo(c.context).append(a('<span class="text-danger"/>').text(" Недопустимое расширение файла")),d.push("Недопустимое расширение файла")),c.originalFiles[0].size>1e5&&(g.appendTo(c.context).append(a('<span class="text-danger"/>').text(" Слишком многа букав")),d.push("Слишком многа букав")),0===d.length&&g.appendTo(c.context)})}).on("fileuploaddone",function(b,c){a.each(c.result.files,function(b,c){a('<p style="color: green;">'+c.name+'<i class="elusive-ok" style="padding-left:10px;"/> - Type: '+c.type+" - Size: "+c.size+" byte</p>").appendTo("#div_files")})}).on("fileuploadfail",function(b,c){a.each(c.messages,function(b,c){a('<p style="color: red;">Upload file error: '+c+'<i class="elusive-remove" style="padding-left:10px;"/></p>').appendTo("#div_files")})}).prop("disabled",!a.support.fileInput).parent().addClass(a.support.fileInput?void 0:"disabled")}(jQuery)});